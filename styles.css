/* ==========================================================================
   HealthFlo — Premium System Styles (Header/Footer + Core)
   iPhone/Android-grade polish • Glass • Safe Area • Pro Themes
   ========================================================================== */

/* ------------------------------
   1) Root tokens + base reset
   ------------------------------ */

:root {
  /* Core palette (pro healthcare) */
  --ink: #0b1224;
  --ink-2: #121a2f;
  --ink-3: #1b2642;
  --ink-muted: #7d8aa6;

  --tone: #12c2b0;             /* Teal brand accent */
  --tone-2: #36d2c0;
  --tone-3: #5eead4;

  --blue: #4aa8ff;
  --violet: #7c5cff;
  --rose: #ff6b9c;
  --amber: #ffb020;

  --bg: #f7f9fc;
  --panel: rgba(255,255,255,.7);
  --line: rgba(14, 22, 44, .08);
  --shadow-1: 0 6px 18px rgba(12, 20, 40, .08);
  --shadow-2: 0 14px 40px rgba(12, 20, 40, .14);
  --blur: saturate(180%) blur(14px);

  --radius: 16px;
  --radius-lg: 24px;

  /* Typo / rhythm */
  --ff-ui: -apple-system, BlinkMacSystemFont, "SF Pro Text", Inter, Roboto, "Segoe UI",
           "Noto Sans", "Helvetica Neue", Arial, system-ui, sans-serif;
  --ff-display: "SF Pro Display", Manrope, Inter, var(--ff-ui);
  --fs: clamp(14px, 0.9vw + 12px, 18px);
  --lh: 1.48;

  /* Animations */
  --eio: cubic-bezier(.2, .8, .2, 1);
  --spring: cubic-bezier(.2, .9, .2, 1.1);

  /* Header heights (with safe area) */
  --h: 64px;
  --pad-x: clamp(1rem, 3vw, 2rem);

  /* Hero soft grid */
  --dots: radial-gradient(circle, rgba(255,255,255,.06) 1px, transparent 1px);

  /* Neon hover */
  --neon: linear-gradient(90deg, transparent, var(--violet), transparent);

  /* Button shadows */
  --sh1: 0 10px 26px rgba(18, 194, 176,.18);
  --sh2: 0 18px 48px rgba(18, 194, 176,.28);
}

* { box-sizing: border-box }
html, body { height: 100% }
html { font-size: 100% }
body {
  margin: 0;
  font-family: var(--ff-ui);
  font-size: var(--fs);
  line-height: var(--lh);
  color: var(--ink);
  background: var(--bg);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  accent-color: var(--tone);
}

/* Safe area helpers for iOS notch/Dynamic Island */
.safe {
  padding-left: max(var(--pad-x), env(safe-area-inset-left));
  padding-right: max(var(--pad-x), env(safe-area-inset-right));
}
.safe-y {
  padding-top: max(0px, env(safe-area-inset-top));
  padding-bottom: max(0px, env(safe-area-inset-bottom));
}

/* Links / focus */
a { color: inherit; text-decoration: none }
a:focus-visible, button:focus-visible { outline: 2px solid var(--tone); outline-offset: 2px; border-radius: 10px }

/* Utility */
.container { width: min(1200px, 100%); margin: 0 auto; }
.hidden { display: none !important; }

/* -----------------------------------------------------------------
   2) THEMES (body classes): theme-dawn (light) / theme-onyx (dark) / theme-ocean (gradient)
   -----------------------------------------------------------------*/

body.theme-dawn {
  --text: #0b1224;
  --muted: #65728f;
  --panel: rgba(255,255,255,.7);
  --bg: #f7f9fc;
  --line: rgba(14,22,44,.08);
  color: var(--text);
  background:
    radial-gradient(900px 600px at 40% -10%, rgba(76, 188, 255, .14), transparent 60%),
    radial-gradient(900px 600px at 90% -20%, rgba(18, 194, 176, .12), transparent 60%),
    var(--bg);
}
body.theme-onyx {
  --text: #f5f7fb;
  --muted: rgba(245,247,251,.7);
  --panel: rgba(18,20,38,.6);
  --bg: #0a0f1e;
  --line: rgba(255,255,255,.12);
  color: var(--text);
  background:
    radial-gradient(900px 700px at 30% -10%, rgba(124,92,255,.18), transparent 60%),
    radial-gradient(700px 600px at 90% -5%, rgba(18,194,176,.16), transparent 65%),
    #050816;
}
body.theme-ocean {
  --text: #f5f7fb;
  --muted: rgba(245,247,251,.75);
  --panel: rgba(14, 26, 44, .55);
  --bg-gradient: radial-gradient(circle at 20% 20%, rgba(255, 90, 152, 0.2), transparent 55%),
                 radial-gradient(circle at 80% 10%, rgba(90, 173, 255, 0.25), transparent 60%),
                 radial-gradient(circle at 50% 80%, rgba(116, 255, 217, 0.2), transparent 60%),
                 #050816;
  --line: rgba(255,255,255,.14);
  color: var(--text);
  background: var(--bg-gradient);
}

/* ------------------------------
   3) HEADER — Glass, sticky, mobile drawer
   ------------------------------ */

.site-header {
  position: sticky; top: 0; z-index: 50;
  backdrop-filter: var(--blur);
  -webkit-backdrop-filter: var(--blur);
  background: color-mix(in oklab, var(--panel) 86%, transparent);
  border-bottom: 1px solid var(--line);
  box-shadow: var(--shadow-1);
}
.site-header .container {
  display: grid;
  grid-template-columns: auto 1fr;
  align-items: center;
  min-height: calc(var(--h) + env(safe-area-inset-top));
  padding: 0 var(--pad-x);
}

/* Brand */
.brand { display: inline-flex; align-items: center; gap: .65rem; position: relative }
.brand__mark { width: 28px; height: 28px; display: block; filter: drop-shadow(0 4px 10px rgba(0,0,0,.12)); }
.brand__name { font-family: var(--ff-display); font-weight: 800; letter-spacing:.2px }
.brand__glow {
  position: absolute; inset: -12px; border-radius: 20px; pointer-events: none;
  background: radial-gradient(220px 140px at 40% 40%, rgba(124,92,255,.28), rgba(18,194,176,.24), transparent 60%);
  filter: blur(14px); opacity: .6; animation: brandPulse 3.4s var(--eio) infinite alternate;
}
@keyframes brandPulse { from { opacity: .4 } to { opacity: .8 } }

/* Menu */
.menu { justify-self: end; position: relative }
.menu__panel {
  display: flex; align-items: center; gap: 1rem;
}
.menu__links { display: flex; align-items: center; gap: .25rem .5rem; flex-wrap: wrap; }
.menu__links a {
  position: relative; padding: .55rem .8rem; border-radius: 12px;
  color: var(--muted); transition: background .2s var(--eio), color .2s var(--eio);
}
.menu__links a:hover { background: color-mix(in srgb, var(--panel) 70%, transparent); color: var(--text); }
.menu__links a.neon::after {
  content: ""; position: absolute; left: 8px; right: 8px; bottom: 6px; height: 2px;
  background: var(--neon); transform: translateX(-60%); animation: scan 1.3s linear infinite;
}
@keyframes scan { from { transform: translateX(-60%) } to { transform: translateX(60%) } }

/* Compact submenu (Resources) */
.menu__more { position: relative }
.menu__more summary {
  list-style: none; padding: .55rem .8rem; border-radius: 12px; cursor: pointer;
  color: var(--muted);
}
.menu__more[open] summary,
.menu__more summary:hover {
  background: color-mix(in srgb, var(--panel) 70%, transparent); color: var(--text);
}
.menu__more summary::-webkit-details-marker { display: none; }

.submenu {
  position: absolute; top: calc(100% + 8px); left: 0; min-width: 240px;
  padding: .6rem; border-radius: 16px;
  background: color-mix(in oklab, var(--panel) 92%, transparent);
  border: 1px solid var(--line);
  box-shadow: var(--shadow-2);
  backdrop-filter: var(--blur);
}
.submenu li { list-style: none }
.submenu a {
  display: block; padding: .6rem .7rem; border-radius: 10px; color: var(--text);
}
.submenu a:hover { background: color-mix(in srgb, #ffffff 16%, transparent) }

/* Theme pills + CTAs (right side) */
.menu__right { display: flex; align-items: center; gap: .8rem }
.theme-switch { display: inline-flex; gap: .4rem; align-items:center }
.theme-switch .pill{
  padding:.5rem .8rem; border-radius:999px; background:color-mix(in srgb, #fff 16%, transparent);
  color: var(--muted); border:1px solid var(--line); cursor:pointer;
  transition: transform .18s var(--eio), background .18s var(--eio);
}
.theme-switch .pill:hover { transform: translateY(-1px) }
.theme-switch .pill.is-active{
  background: linear-gradient(135deg, rgba(255,255,255,.22), rgba(255,255,255,.06));
  color:#fff; border-color: color-mix(in srgb, #fff 26%, transparent);
}

/* Buttons (iOS/Material hybrid) */
.menu__ctas{display:flex;gap:.55rem}
.btn{display:inline-flex;align-items:center;justify-content:center;padding:.85rem 1.1rem;border-radius:12px;border:1px solid transparent;font-weight:800;cursor:pointer;letter-spacing:.02em;transition:transform .2s var(--eio), box-shadow .25s var(--eio), background .25s var(--eio)}
.btn-primary{background:linear-gradient(135deg, var(--tone), color-mix(in srgb, var(--tone) 30%, var(--tone-2))); color:#fff; box-shadow: var(--sh1)}
.btn-primary:hover{transform:translateY(-2px); box-shadow: var(--sh2)}
.btn-secondary{background:#fff;border-color:var(--tone);color:var(--tone)}
.btn-ghost{background:rgba(255,255,255,.7);border-color:#D8E2F2;color:var(--ink)}
@media (prefers-color-scheme: dark) {
  .btn-secondary { background: color-mix(in srgb, #fff 10%, transparent); color:#e9f4ff; border-color: color-mix(in srgb, #fff 18%, transparent) }
  .btn-ghost { background: color-mix(in srgb, #fff 8%, transparent); color: var(--text) }
}

/* Mobile menu toggle (hamburger) */
.nav__toggle {
  display: none;
  width: 44px; height: 44px; border: 0; background: transparent; position: relative; cursor: pointer;
  border-radius: 12px;
}
.nav__toggle span{
  position:absolute; left: 10px; right: 10px; height:2px; background: currentColor; border-radius: 2px;
  transition: transform .45s var(--spring), opacity .25s var(--eio);
}
.nav__toggle span:nth-child(1){ top: 14px }
.nav__toggle span:nth-child(2){ top: 21px }
.nav__toggle span:nth-child(3){ top: 28px }
.nav__toggle[aria-expanded="true"] span:nth-child(1){ transform: translateY(7px) rotate(45deg) }
.nav__toggle[aria-expanded="true"] span:nth-child(2){ opacity: 0 }
.nav__toggle[aria-expanded="true"] span:nth-child(3){ transform: translateY(-7px) rotate(-45deg) }

/* Drawer @ mobile */
@media (max-width: 980px){
  .nav__toggle { display: inline-flex; align-items:center; justify-content:center; color: var(--text) }
  .menu__panel {
    position: fixed; inset: calc(var(--h) + env(safe-area-inset-top)) 0 auto 0;
    background: color-mix(in oklab, var(--panel) 88%, transparent);
    backdrop-filter: var(--blur);
    -webkit-backdrop-filter: var(--blur);
    border-bottom: 1px solid var(--line);
    box-shadow: var(--shadow-2);
    padding: 1rem var(--pad-x) max(1rem, env(safe-area-inset-bottom));
    display: grid; grid-template-columns: 1fr; gap: 1rem;
    transform-origin: top center; transform: translateY(-6%) scale(.98);
    opacity: 0; pointer-events:none; transition: transform .28s var(--spring), opacity .22s var(--eio);
  }
  .nav__toggle[aria-expanded="true"] + .menu__panel,
  #nav-menu[data-open="true"] {
    transform: none; opacity: 1; pointer-events:auto;
  }
  .menu__links { gap: .3rem; flex-wrap: wrap }
  .menu__right { justify-content: space-between }
  .submenu { position: static; margin-top: .4rem; backdrop-filter: none; box-shadow: none }
}

/* ------------------------------
   4) HERO scaffold (used by views)
   ------------------------------ */

.bg.sun, .bg.blend, .bg.grid { position: fixed; inset: 0; pointer-events: none; z-index: -3 }
.bg.grid { background-image: var(--dots); background-size: 70px 70px; animation: drift 36s linear infinite; opacity:.5 }
@keyframes drift { from{ transform: translateY(0) } to{ transform: translateY(70px) } }

.hero { position: relative; padding: clamp(1.2rem, 4vw, 2rem) 0 1rem }
.hero__bg { position: absolute; inset: 0; z-index: -1 }
.hero__sunrise {
  position:absolute; inset: 0;
  background: radial-gradient(1200px 900px at 50% 110%, rgba(253, 236, 200,.36), rgba(255, 152, 161,.15) 35%, transparent 60%);
  animation: float 18s ease-in-out infinite alternate;
  filter: blur(6px);
}
@keyframes float { from{ transform: translate3d(0,0,0) } to{ transform: translate3d(0,-16px,0) } }
.hero__glass{
  position:absolute; inset: 8% 3% auto 3%; height: 62%;
  border-radius: 28px; border: 1px solid var(--line);
  background: color-mix(in oklab, var(--panel) 86%, transparent);
  backdrop-filter: var(--blur);
  box-shadow: var(--shadow-2);
}
.hero__copy { position: relative; max-width: 1100px; margin: 0 auto; padding: clamp(1rem, 3vw, 2rem) var(--pad-x) }
.eyebrow { letter-spacing:.16em; text-transform:uppercase; color: var(--muted); font-weight:600; margin: .2rem 0 .6rem }
.hero__title { font-family: var(--ff-display); font-weight: 800; line-height: 1.15; font-size: clamp(1.8rem, 3.8vw, 3rem); margin: 0 }
.hl { color: color-mix(in srgb, var(--blue) 70%, #aee3ff); text-shadow: 0 6px 24px rgba(154,216,255,.22) }
.hero__sub { color: var(--muted); max-width: 72ch; margin: .6rem 0 1.1rem }
.typewriter { display:block; white-space:nowrap; overflow:hidden; border-right: 2px solid currentColor; margin-top:.3rem; color: var(--text) }
.typing { animation: type 1.05s steps(24,end) }
@keyframes type { from{ width:0 } to{ width:100% } }
.hero__cta-row { display:flex; gap:.6rem; flex-wrap: wrap; margin-top:.8rem }

/* ------------------------------
   5) FOOTER — airy, professional
   ------------------------------ */

.site-footer {
  margin-top: 2rem;
  border-top: 1px solid var(--line);
  background: color-mix(in oklab, var(--panel) 86%, transparent);
  backdrop-filter: var(--blur);
}
.footer__grid {
  display: grid; grid-template-columns: 2fr repeat(3, 1fr); gap: 1.2rem;
  padding: 2rem var(--pad-x);
}
.footer__brand .brand--sm .brand__mark { width: 24px; height: 24px }
.footer__tag { color: var(--muted); margin:.6rem 0 1rem; max-width: 46ch }
.footer__social { display: flex; gap:.8rem; flex-wrap: wrap }
.footer__social a {
  padding:.4rem .6rem; border-radius: 10px; color: var(--text);
  background: color-mix(in srgb, #fff 10%, transparent); border: 1px solid var(--line);
}
.footer__col h3 { margin: 0 0 .6rem; font-weight: 800; font-size: .95rem; color: var(--text) }
.footer__col ul { margin: 0; padding: 0; list-style: none; display: grid; gap: .35rem }
.footer__col a { color: var(--muted); padding: .35rem .4rem; border-radius: 8px }
.footer__col a:hover { color: var(--text); background: color-mix(in srgb, #fff 10%, transparent) }

.footer__bar {
  display: flex; align-items: center; justify-content: space-between; gap: 1rem;
  padding: .9rem var(--pad-x) max(.9rem, env(safe-area-inset-bottom));
  border-top: 1px solid var(--line);
}
.footer__links a { color: var(--muted); margin-left:.8rem }
.footer__links a:hover { color: var(--text) }

/* Responsive footer */
@media (max-width: 980px){
  .footer__grid { grid-template-columns: 1fr 1fr; }
}
@media (max-width: 640px){
  .footer__grid { grid-template-columns: 1fr; }
  .footer__bar { flex-direction: column; align-items: flex-start }
}

/* ------------------------------
   6) REVEAL ANIMATIONS (for [data-animate])
   ------------------------------ */
[data-animate]{ opacity:0; transform: translateY(22px); transition: opacity .65s var(--eio), transform .65s var(--eio) }
[data-animate="in"]{ opacity:1; transform:none }

/* ------------------------------
   7) CARDS / SPOTLIGHTS (used by views)
   ------------------------------ */
.spotlights { width: min(1180px, 100%); margin: 1.2rem auto; padding: 0 var(--pad-x) }
.center { text-align:center }
.spot-grid{ display:grid; gap: clamp(.8rem, 2vw, 1.2rem); grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); margin-top: .8rem }
.spot-card{
  padding: 1.1rem 1.2rem; border-radius: var(--radius); background: color-mix(in oklab, var(--panel) 86%, transparent);
  border:1px solid var(--line); box-shadow: var(--shadow-1);
  transition: transform .25s var(--eio), box-shadow .25s var(--eio), background .25s var(--eio);
}
.spot-card:hover{ transform: translateY(-4px); box-shadow: var(--shadow-2) }
.spot-card h3 { margin:.2rem 0 .35rem; font-family: var(--ff-display); font-weight: 800 }
.spot-card p { margin:0; color: var(--muted) }
.chip{ display:inline-flex; margin-top:.6rem; font-size:.85rem; padding:.35rem .6rem; border-radius:999px; background: color-mix(in srgb, var(--blue) 24%, transparent); color: color-mix(in srgb, #fff 86%, var(--blue) 40%) }

/* Audience grid (landing hero buttons) */
.aud-grid {
  width: min(1100px, 100%); margin: .6rem auto 0; padding: 0 var(--pad-x);
  display:grid; gap: clamp(.8rem, 2vw, 1.2rem);
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
}
.aud-card{
  position: relative; display:grid; gap:.5rem; padding: clamp(1rem, 1.8vw, 1.3rem);
  background: color-mix(in oklab, var(--panel) 84%, transparent);
  border:1px solid var(--line); border-radius: 20px; color: var(--text);
  box-shadow: var(--shadow-1); transform: translateZ(0);
  transition: transform .3s var(--spring), box-shadow .3s var(--eio), background .25s var(--eio);
}
.aud-card:hover{ transform: translateY(-6px) scale(1.01); box-shadow: var(--shadow-2) }
.aud-ico{ font-size: 1.6rem }
.aud-slider{
  position: relative; margin-top:.35rem; height:42px; border-radius: 12px; overflow:hidden;
  background: linear-gradient(90deg, color-mix(in srgb, var(--violet) 26%, transparent), color-mix(in srgb, var(--tone) 26%, transparent));
  display:flex; align-items:center; justify-content:center; color: #fff; font-weight: 700;
}
.aud-slider::before{
  content:""; position:absolute; inset:0; transform: translateX(-100%);
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.35), transparent);
  animation: sweep 2.6s ease-in-out infinite;
}
@keyframes sweep { 0%,100%{ transform:translateX(-120%) } 50%{ transform:translateX(120%) } }

.aud-card--blink.is-on { outline: 2px solid color-mix(in srgb, var(--blue) 45%, #9ad8ff); box-shadow: inset 0 0 0 6px rgba(154,216,255,.08) }

/* ------------------------------
   8) FORMS (mini-form in hospital/insurer)
   ------------------------------ */
.mini-form__row { display:flex; gap:.6rem; flex-wrap: wrap }
.mini-form input, .mini-form select {
  width: 100%; appearance: none;
  border: 1px solid var(--line); border-radius: 12px; padding: .75rem .85rem;
  background: color-mix(in srgb, #fff 70%, transparent);
  color: inherit; font: inherit;
}
.mini-form input:focus { outline: 2px solid color-mix(in srgb, var(--tone) 60%, #fff); outline-offset: 2px }
.badge{ display:inline-block; font-size:.75rem; padding:.26rem .5rem; border-radius:999px; background: color-mix(in srgb, var(--amber) 26%, transparent); color: #231; }

/* ------------------------------
   9) MEDIA QUERIES (layout finetune)
   ------------------------------ */
@media (max-width: 1080px){
  .hero__glass { inset: 8% 2% auto 2%; height: 66% }
}
@media (max-width: 720px){
  .hero__title { font-size: clamp(1.6rem, 6vw, 2.2rem) }
  .hero__glass { inset: 10% 2% auto 2%; height: 70% }
}

/* ------------------------------
   10) PREFERS REDUCED MOTION
   ------------------------------ */
@media (prefers-reduced-motion: reduce) {
  * { animation-duration: .01ms !important; animation-iteration-count: 1 !important; transition-duration: .01ms !important; }
  .bg.grid { animation: none !important }
}
